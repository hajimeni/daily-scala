# Scala Collection API Day 04

## Today
- 再帰関数を覚える
 - 再帰
 - 末尾再帰
- NNPを解く
 - 1～5 を簡単に（コレクションAPIOK）
 - 1～5 を再帰関数（or 末尾再帰で）

## 再帰関数とは

- ある関数内において、自分自身をまた呼び出すような関数
- Recursive Function
- よくある例
 - 階乗計算（factorial）
 - フィボナッチ数列
 - クイックソート（分割ソート系？）
- メリット
 - 複雑なアルゴリズムを簡潔に記述できる（ことがある）
 - 数学っぽくかける
- デメリット
 - 簡単な問題を解く際に難しくなる
- 使いどころを間違えないようにしましょうｗ

## 末尾再帰
- スタックオーバーフロー問題
 - ただの再帰はダメ！！！
 - なぜ？ダメ？
- n + sum(n - 1) 
 - n との足し算が残った状態で再帰呼び出しするので、かえってきたときの状態を持たいないといけない
 - スタックに積む
- スタックオーバーフローしないように作る再帰関数が末尾再帰の関数
- 自身の呼び出しで完了する

## 総和計算の例
- f(x) = ???
- f(1) = 1
- f(2) = 2 + f(1)
- f(3) = 3 + f(2)
- f(n) = n + f(n - 1)
- 簡単な定義から導く
- def sum(n: Int): Int = n + sum(n - 1)
- すっきり！

## 総和計算を末尾再帰にする
```
def sum(n: Int): Int = {
  if(n == 0) 0
  else n + sum(n -1)
}

def sum(acc: Int, n: Int): Int = {
  if(n == 0) 0
  else sum(acc + n, n - 1)
}
```

### NNP(Ninety Nine Problems)
- もともとはPrologの問題集的な感じ
- Scala版みたいなのがあるので10～20問ぐらいやってみようという企画
- 趣旨
 - Scala Collection APIを色々覚える
   - 使えそうなものを探して使う
   - 誰かがまた新しい発見をするかも！
- 再帰関数をかけるようになる
   - var使わずに簡単にアルゴリズムかけるかもよ！
   - 逆もしかりなので使えるタイミングは見極め

## Next
- NNPコーディング
- NNPを発表
 - 1〜5

----
[Scala Collection API Day 05へ](collection_day_05.md)
